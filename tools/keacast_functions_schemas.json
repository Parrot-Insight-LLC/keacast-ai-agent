[
  {
    "type": "function",
    "function": {
      "name": "getUserAccounts",
      "description": "Fetch bank accounts for a user with pagination support to prevent memory issues.",
      "parameters": {
        "type": "object",
        "properties": { 
          "userId": { "type": "string" },
          "page": { "type": "integer", "description": "Page number for pagination (default: 1)" },
          "limit": { "type": "integer", "description": "Number of accounts per page (default: 20, max: 100)" }
        },
        "required": ["userId"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "getUserTransactions",
      "description": "Retrieve transactions for a user account in a date window with pagination support to prevent memory issues.",
      "parameters": {
        "type": "object",
        "properties": {
          "userId": { "type": "string" },
          "accountId": { "type": "string" },
          "startDate": { "type": "string" },
          "endDate": { "type": "string" },
          "page": { "type": "integer", "description": "Page number for pagination (default: 1)" },
          "limit": { "type": "integer", "description": "Number of transactions per page (default: 50, max: 200)" }
        },
        "required": ["userId", "accountId"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "getRecurringForecasts",
      "description": "Get recurring/forecast transactions for an account with pagination support to prevent memory issues.",
      "parameters": {
        "type": "object",
        "properties": {
          "accountId": { "type": "string" },
          "page": { "type": "integer", "description": "Page number for pagination (default: 1)" },
          "limit": { "type": "integer", "description": "Number of forecasts per page (default: 25, max: 100)" }
        },
        "required": ["accountId"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "getUpcomingTransactions",
      "description": "Get upcoming transactions for an account over a date range with pagination support to prevent memory issues.",
      "parameters": {
        "type": "object",
        "properties": {
          "accountId": { "type": "string" },
          "startDate": { "type": "string" },
          "endDate": { "type": "string" },
          "forecastType": { "type": "string" },
          "page": { "type": "integer", "description": "Page number for pagination (default: 1)" },
          "limit": { "type": "integer", "description": "Number of transactions per page (default: 30, max: 100)" }
        },
        "required": ["accountId", "startDate", "endDate"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "getTransactionSummary",
      "description": "Get transaction summary statistics without loading full transaction data to prevent memory issues.",
      "parameters": {
        "type": "object",
        "properties": {
          "userId": { "type": "string" },
          "accountId": { "type": "string" },
          "startDate": { "type": "string" },
          "endDate": { "type": "string" }
        },
        "required": ["userId", "accountId"]
      }
    }
  }
]
